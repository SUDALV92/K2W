<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprKamiliaNext</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>1200000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_alpha=0;
hp=710;
fullhp=710;
A=0;
a=0;
b=0;
c=0;
delay=0;
attdelay=0;
attack[10] = 0;
repeated = false;
score = hp; //DeadSplit support
spawnerX = 0;
i=0;
if(global.saveRoom != room)
{
 scrSaveGame(true);
}
if(global.finalBossFaded)
{
 alarm[1] = 1;
 instance_create(192,208,objEyeEffect);
 instance_create(604,208,objEyeEffect);
 background_visible[2] = false;
 background_visible[3] = false;
}
else
{
 alarm[1] = 150;
}
death = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>305</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_timeline_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>14</kind>
            <timeline>bosslastrush</timeline>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(192,208,objEyeEffect);
instance_create(604,208,objEyeEffect);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(!instance_exists(objPlayer)) exit;

if A=10
{
    audio_play_sound(global.sndTanmakLow,0,0);
    instance_create(192,208,objKamiliaAttack2);
    instance_create(604,208,objKamiliaAttack2);
    laser = instance_create(192,208,objKamiliaPhase4Laser);
    laser.image_xscale = 0.5;
    laser.image_index = 0;
    laser.direction = irandom_range(50,120);
    laser.speed = 4;
    laser.gravity = 0.2;
    laser.mode = 2;
    
    laser = instance_create(604,208,objKamiliaPhase4Laser);
    laser.image_xscale = 0.5;
    laser.image_index = 1;
    laser.direction = irandom_range(50,120);
    laser.speed = 4;
    laser.gravity = 0.2;
    laser.mode = 2;
    alarm[0]=40;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>01-09</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(!instance_exists(objPlayer)) exit;

if A=9
{
    a=0; b=0; 
    
    
    spawnerX += irandom_range(96,192);
    if(spawnerX &gt;= 800)
     spawnerX -= 800;
    
    if(true)
    {
     scrObjectDestroy(objKamiliaAttack2);
     instance_create(192,208,objKamiliaAttack2);
     instance_create(604,208,objKamiliaAttack2);
     audio_play_sound(global.sndTanmakLow,0,0);
     a1=instance_create(spawnerX,16,objEyeTanTypeB);
     a1.image_index=choose(0,1);
     a1.image_angle = random(360);
     a1.vspeed=3;
     a1.mode = 3;
     a1.alarm[0] = 1;
    }
    
    alarm[0]=15;
}

if A=8
{
audio_play_sound(global.sndTanmakLow,0,0);
scrObjectDestroy(objKamiliaAttack2);
instance_create(192,208,objKamiliaAttack2);
instance_create(604,208,objKamiliaAttack2);

repeat(1)
{
    a1=instance_create(192,208,objEyeTanTypeB);
    a1.image_xscale = 0.5;
    a1.image_yscale = 0.5;
    a1.image_index=0;
    a1.speed=9;
    a1.friction = 0.2;
    a1.direction=irandom_range(210,330);
    a1.mode = 2;
    a1.alarm[0] = 1;
}

repeat(1)
{
    b1=instance_create(604,208,objEyeTanTypeB);
    b1.image_xscale = 0.5;
    b1.image_yscale = 0.5;
    b1.image_index=1;
    b1.speed=9;
    b1.friction = 0.2;
    b1.direction=irandom_range(190,350);
    b1.mode = 2;
    b1.alarm[0] = 1;
}
alarm[0]=30;
}

if A=7
{
    audio_play_sound(global.sndTanmakLow,0,0);
    var laserIndex = choose(0,1);
    scrObjectDestroy(objKamiliaAttack2);
    instance_create(192,208,objKamiliaAttack2);
    instance_create(604,208,objKamiliaAttack2);
    a1=instance_create(192,208,objEyeTanTypeB);
    a1.mode = 4;
    a1.alarm[0] = 1;
    a1.laserIndex = laserIndex;
    
    b1=instance_create(604,208,objEyeTanTypeB);
    b1.mode = 4;
    b1.alarm[0] = 1;
    if(laserIndex == 0)
     b1.laserIndex = 1;
    else
     b1.laserIndex = 0;
}

if A=6
{
    audio_play_sound(global.sndTanmakLow,0,0);
    scrObjectDestroy(objKamiliaAttack2);
    instance_create(192,208,objKamiliaAttack2);
    instance_create(604,208,objKamiliaAttack2);

    a=random(360);
    repeat(5){
    a1=instance_create(192,208,objEyeTanTypeB);
    a1.image_xscale = 0.5;
    a1.image_yscale = 0.5;
    a1.image_index=0;
    a1.speed=8;
    a1.friction = 0.2;
    a1.direction=a;
    a1.mode = 5;
    a+=360/5;
    }
    
    a=random(360);
    repeat(5){
    b1=instance_create(604,208,objEyeTanTypeB);
    b1.image_xscale = 0.5;
    b1.image_yscale = 0.5;
    b1.image_index=1;
    b1.speed=8;
    b1.friction = 0.2;
    b1.direction=a;
    b1.mode = 5;
    a+=360/5;
    }
    alarm[0]=60;
}

if A=5
{
    if(global.sfxDelay[0] &lt;= 0)
    {
     audio_play_sound(global.sndTanmakLow,0,0);
     global.sfxDelay[0] = 6;
    }
    scrObjectDestroy(objKamiliaAttack2);
    instance_create(192,208,objKamiliaAttack2);
    instance_create(604,208,objKamiliaAttack2);
    
    repeat(1){
    a1=instance_create(192,208,objEyeTanTypeB);
    a1.image_index=0;
    a1.speed=2;
    a1.direction=random(360);
    a1.mode = 6;
    }
    
    repeat(1){
    b1=instance_create(604,208,objEyeTanTypeB);
    b1.image_index=1;
    b1.speed=2;
    b1.direction=random(360);
    b1.mode = 6;
    }
    
    alarm[0]=2;
}

if A=4
{
    audio_play_sound(global.sndTanmakLow,0,0);
    scrObjectDestroy(objKamiliaAttack2);
    instance_create(192,208,objKamiliaAttack2);
    instance_create(604,208,objKamiliaAttack2);
    
    repeat(2)
    {
        a1=instance_create(192,208,objEyeTanTypeB);
        a1.image_index=0;
        a1.speed = 8;
        a1.direction=random(360);
        a1.mode = 7;
        with(a1) event_user(0);
    }
    
    repeat(2)
    {
        b1=instance_create(604,208,objEyeTanTypeB);
        b1.image_index=1;
        b1.speed = 8;
        b1.direction=random(360);
        b1.mode = 7;
        with(b1) event_user(0);
    }
    alarm[0]=80;
}

if A=3
{
    if(global.sfxDelay[0] &lt;= 0)
    {
     audio_play_sound(global.sndTanmakLow,0,0);
     global.sfxDelay[0] = 6;
    }
    scrObjectDestroy(objKamiliaAttack2);
    instance_create(192,208,objKamiliaAttack2);
    instance_create(604,208,objKamiliaAttack2);
    if(!instance_exists(objKamiliaPhase4Laser))
    {
     var imgIndex = choose(0,1);
     for(var temp = 0; temp &lt;= 900; temp+=150;)
     {
      laser = instance_create(temp,16,objKamiliaPhase4Laser);
      laser.image_angle = 270;
      laser.image_xscale = 25;
      laser.killer = false;
      laser.image_alpha = 0.5;
      laser.image_index = imgIndex;
      laser.mode = 7;
     }
    }
    repeat(2)
    {
        b1 = instance_create(irandom(800),10,objEyeTanTypeB);
        b1.image_index = choose(0,1);
        b1.gravity = 0.05;
        b1.direction = irandom_range(240,300);
        b1.speed = 2;
    }
    alarm[0]=4;
}

if A=2
{
    audio_play_sound(global.sndTanmakLow,0,0);
    instance_create(192,208,objKamiliaAttack2);
    instance_create(604,208,objKamiliaAttack2);
    a=0;
    repeat(36)
    {
        a1=instance_create(192,208,objEyeTanTypeB);
        a1.image_index=0;
        a1.dir=a+irandom(12);
        a1.mode = 8;
        a+=360/36;
    }
    b=0;
    repeat(36)
    {
        b1=instance_create(604,208,objEyeTanTypeB);
        b1.image_index=1;
        b1.dir=b+irandom(12);
        b1.mode = 8;
        b+=360/36;
    }
    alarm[0]=50;
}

if A=1
{
    audio_play_sound(global.sndTanmakLow,0,0);
    instance_create(192,208,objKamiliaAttack2);
    instance_create(604,208,objKamiliaAttack2);
    
    a1=instance_create(192,208,objEyeTanTypeB);
    a1.image_xscale = 0.5;
    a1.image_yscale = 0.5;
    a1.image_index=0;
    a1.speed=9;
    a1.direction=irandom_range(60,120);
    a1.gravity_direction = a1.direction + 180;
    a1.gravity = 0.3;
    a1.mode = 9;
    a1.alarm[0] = 20;
    
    b1=instance_create(604,208,objEyeTanTypeB);
    b1.image_xscale = 0.5;
    b1.image_yscale = 0.5;
    b1.image_index=1;
    b1.speed=9;
    b1.direction=irandom_range(60,120);
    b1.gravity_direction = b1.direction + 180;
    b1.gravity = 0.3;
    b1.mode = 9;
    b1.alarm[0] = 20;
    
    alarm[0]=40;
}

i++;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(global.finalBossFaded)
{
    image_alpha = 1;
}
else
{
    if(image_alpha &lt; 1)
    {
     image_alpha += 0.005;
    }
    if(background_alpha[2] &gt; 0)
    {
     background_alpha[2] -= 0.005;
     background_alpha[3] -= 0.005;
    }
    else
    {
     background_visible[2] = false;
     background_visible[3] = false;
     global.finalBossFaded = true;
    }
}
if delay&gt;0{delay-=1;}
if attdelay&gt;0{attdelay-=1;}
if image_alpha&gt;0.8{
if delay=0{instance_create(x,y,objKamiliaNextEffect); delay=50;}}

if (!instance_exists(objPlayer) || death)
{
 timeline_speed=0;
}
if(death)
{
 if(i % 8 == 0)
 {
    if(global.sfxDelay[0] &lt;= 0)
    {
     sfx = audio_play_sound(global.sndContraExplosion,0,0);
     audio_sound_gain(sfx,0.7,0);
     global.sfxDelay[0] = 4;
    }
    explosion = instance_create(irandom_range(32,768),irandom_range(64,488),objExplosionB);
    explosion.image_xscale = 0.8;
    explosion.image_yscale = 0.8;
 }
 if(objFinalshake.shake &lt; 2)
 {
  objFinalshake.shake += 0.01;
 }
 if(i == 200)
 {
  instance_create(-100,-100,objRedEffect);
 }
 if(i == 300)
 {
    with(objBlockBoss7A)
    {
     gravity = 0.1;
     direction = irandom_range(60,80);
     speed = 6;
     solid = false;
     arr = instance_create(x+32,y+16,objArr2);
     arr.image_angle = 180;
    }    
    scrPlayMusic(global.sndExtra,1);
    global.sfxDelay[0] = 5200;
    instance_create(0,0,objExtraTimer);
 }
 i++;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objBullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(other){instance_destroy();}
if instance_exists(objFinalBossBar) &amp;&amp; objFinalBossBar.image_alpha&gt;=1
{
    if attdelay=0
    {
        audio_play_sound(global.sndBossHitLow,0,0);
        hp-=1; attdelay=5; visible=1;
        if(hp &lt;= 650)
        {
         background_vspeed[0] = -7+(hp/100);
        }
        score = hp; //DeadSplit support
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
